<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Korals Quest - Epic Resurrection</title>
  <link rel="stylesheet" href="./res/css/style.css">
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
  <link rel="shortcut icon" href="./res/img/favicon.ico" type="image/x-icon">
</head>
<body>
  <audio id="audio" loop src="./res/audio/tutututu.mp3"></audio>
  <audio id="questAudio" loop src="./res/audio/hospodafinal.mp3"></audio>
  <audio id="blackmarketAudio" loop src="./res/audio/goofyghost.mp3"></audio>
  <audio id="shopAudio" loop src="./res/audio/wiishop.mp3"></audio>
  <audio id="dungeonAudio" loop src="./res/audio/fight.mp3"></audio>
  <div id="goldMenu" class="gold-menu hidden">
    <img src="./res/img/coin.png" alt="Coin" class="coin-icon" onerror="this.style.display='none'">
    <span id="goldAmount">Gold: 0 | Diamonds: 0</span>
  </div>
  <div id="notification" class="notification hidden"></div>
  <div id="menuContainer" class="menu-container">
    <h1 class="text-2xl md:text-3xl mb-6">Korals Quest</h1>
    <hr>
    <br>
    <div id="inventoryStats" class="inventory-stats">
      <h2 class="text-lg md:text-xl mb-2">Inventory & Stats</h2>
      <p id="playerStats">Damage: 0 | Max HP: 0 | Potions: 0</p>
      <p id="ownedItems">Items: None</p>
    </div>
    <button id="play" class="menu-button">Play</button>
    <button id="saveLoad" class="menu-button">Export/Load</button>
    <button id="quit" class="menu-button">Quit</button>
    <button id="music" class="music-button">üîä</button>
    <button id="mutedMusic" class="music-button" style="display: none;">üîá</button>
    <input type="range" id="volumeSlider" class="volume-slider" min="0" max="100" value="50">
  </div>
  <div id="gameContainer" class="game-container hidden">
    <div class="game-menu">
      <button id="dungeon" class="game-menu-button">Dungeon</button>
      <button id="shop" class="game-menu-button">Shop</button>
      <button id="quests" class="game-menu-button">Quests</button>
      <button id="blackmarket" class="game-menu-button">Black Market</button>
      <button id="backToMenu" class="game-menu-button">Back to Menu</button>
    </div>
    <img id="mainChar" src="./res/img/idle_kqv2.png" alt="Main Character" class="main-char">
  </div>
  <div id="shopContainer" class="shop-container hidden">
    <img id="merchant" src="./res/img/merchant1.png" alt="Merchant" class="merchant">
    <img src="./res/img/idle_kqv2.png" alt="Main Character" class="shop-main-char">
    <button id="backToTown" class="shop-back-button">Back to Town</button>
    <div class="shop-items">
      <div class="shop-item">
        <button id="weaponUpgrade" class="shop-item-button">Upgrade Weapon</button>
        <span class="item-description">+1 Damage</span>
      </div>
      <div class="shop-item">
        <button id="armorUpgrade" class="shop-item-button">Upgrade Armor</button>
        <span class="item-description">+5 Max HP</span>
      </div>
      <div class="shop-item">
        <button id="potion" class="shop-item-button">Buy Potion</button>
        <span class="item-description">Restores full HP</span>
      </div>
    </div>
  </div>
  <div id="blackmarketContainer" class="blackmarket-container hidden">
    <img id="blackmerchant" src="./res/img/blackmerchant.png" alt="Black Merchant" class="blackmerchant">
    <img src="./res/img/idle_kqv2.png" alt="Main Character" class="blackmarket-main-char">
    <button id="backToTownBlackmarket" class="blackmarket-back-button">Back to Town</button>
    <div class="blackmarket-items">
      <div id="excaliburItem" class="blackmarket-item">
        <button id="buyExcalibur" class="blackmarket-item-button">Excalibur</button>
        <span class="item-description">+25 Damage (Cost: 50 Diamonds)</span>
      </div>
      <div id="fireAspectItem" class="blackmarket-item">
        <button id="buyFireAspect" class="blackmarket-item-button">Fire Aspect</button>
        <span class="item-description">Triple damage attack after 5 attacks (Cost: 75 Diamonds)</span>
      </div>
      <div id="greenAmuletItem" class="blackmarket-item">
        <button id="buyGreenAmulet" class="blackmarket-item-button">Green Amulet</button>
        <span class="item-description">Regen 10 HP every 2s in combat (Cost: 100 Diamonds)</span>
      </div>
    </div>
  </div>
  <div id="dungeonContainer" class="dungeon-container hidden">
    <div class="character-container">
      <div class="health-bar">
        <span id="playerHp">HP: 20/20</span>
      </div>
      <img src="./res/img/idle_kqv2.png" alt="Main Character" class="dungeon-main-char">
    </div>
    <div class="enemy-container">
      <div class="health-bar">
        <span id="enemyHp">HP: 30/30</span>
      </div>
      <img src="./res/img/enemy1.png" alt="Enemy" class="enemy">
    </div>
    <div id="chestContainer" class="chest-container hidden">
      <img src="./res/img/chest.png" alt="Treasure Chest" class="chest">
      <button id="openChest" class="chest-button">Open Chest</button>
    </div>
    <div class="dungeon-buttons">
      <button id="specialAttack" class="special-attack-button hidden" style="background-image: url('./res/img/super.png');"></button>
      <button id="attack" class="attack-button" style="background-image: url('./res/img/att.png');"></button>
      <button id="usePotion" class="potion-button" style="background-image: url('./res/img/pott.png');"></button>
    </div>
    <button id="backToTownDungeon" class="dungeon-back-button">Back to Town</button>
    <div class="room-indicator">Room: <span id="roomNumber">1</span>/5</div>
  </div>
  <div id="saveModal" class="modal hidden fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center">
    <div class="bg-gray-800 p-4 border-4 border-[#8B4513] rounded-lg max-w-[90%] text-center">
      <p class="text-sm md:text-base mb-4">Export –í–µ–Ω–≥—Ä–∏—è or Load your game progress</p>
      <button id="export" class="menu-button">Export</button>
      <button id="load" class="menu-button">Load</button>
      <input type="file" id="loadFile" accept=".txt" style="display: none;">
      <button id="reset" class="menu-button">Reset</button>
      <button id="closeSave" class="menu-button">Close</button>
    </div>
  </div>
  <div id="questContainer" class="quest-container hidden">
    <img src="./res/img/idle_kqv2.png" alt="Main Character" class="quest-main-char">
    <img src="./res/img/wizard.png" alt="Wizard" class="wizard">
    <button id="backToTownQuest" class="quest-back-button">Back to Town</button>
    <div id="questList" class="quest-list"></div>
  </div>
  <script src="./res/js/main.js"></script>
</body>
</html>